<thinking>
1. Problem summary: Given a binary tree and a list of node values to remove its subtree independently, calculate the height of the tree after each removal.
2. Problem type / algorithm category: Tree traversal, Depth First Search (DFS), Dynamic Programming (on tree), Height calculation.
3. Step-by-step approach: First, perform a DFS to precompute the depth of each node and the height of the subtree rooted at each node. Additionally, store the two largest subtree heights for each level in a map. For each query, if the removed node is the root, the height is 0. Otherwise, determine the new height by considering the maximum height of the remaining tree, which is either the height of the tallest remaining node at the same level or the height of the tallest node at the next level if the tallest at the current level is removed.
4. Edge cases: Removing the root node, a node being the only one at its level, or a node being the tallest at its level. The problem guarantees queries[i] is not the root.
5. Time and space complexity: Time complexity is O(N + M*log(N)) due to initial DFS and processing queries, where N is the number of nodes and M is the number of queries. Space complexity is O(N) to store depths, subtree heights, and level max heights.
</thinking>