<thinking>
1. Problem summary: Calculate the sum of total strengths for all contiguous subarrays, where total strength is (minimum element * sum of elements), modulo 10^9 + 7.
2. Problem type / algorithm category: Monotonic Stack, Prefix Sums, Dynamic Programming.
3. Step-by-step approach: For each element as the minimum, determine its left and right boundaries using a monotonic stack. Calculate prefix sums and prefix of prefix sums to efficiently compute subarray sums. Combine these to find the contribution of each element as the minimum to the total sum.
4. Edge cases: Array with a single element. Modulo arithmetic for large sums. Handling duplicate minimums appropriately with the stack.
5. Time and space complexity: Time complexity is O(N) due to single passes for prefix sums and monotonic stack. Space complexity is O(N) for storing prefix sums and stack.
</thinking>